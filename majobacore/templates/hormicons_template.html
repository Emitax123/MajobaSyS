{% extends 'base.html' %}
{% load static %}
{% block content %}
  <div class="company-container">
    <span class="intro-text">
      Hormicons es el área especializada en la fabricación y comercialización de productos de hormigón elaborado.
      <span class="red-border"></span>
    </span>

    <div class="proyects-container">
      <div class="proyects-row">
        <!-- Hormigon elaborado -->
        <div class="proyects-item">
          <img src="{% static 'images/hormicons/IMG1.jpg' %}" alt="Hormicons Image 1" />
          <span>Hormigón elaborado</span>
        </div>
        <!-- Premoldeados -->
        <div class="proyects-item">
          <img src="{% static 'images/hormicons/IMG2.jpg' %}" alt="Hormicons Image 2" />
          <span>Premoldeados</span>
        </div>
        <!-- Alquiler de maquinas y equipos -->
        <div class="proyects-item">
          <img src="{% static 'images/hormicons/IMG3.jpg' %}" alt="Hormicons Image 3" />
          <span>Alquiler de maquinas y equipos</span>
        </div>
      </div>
    </div>
  </div>
  <!-- Carrusel de Imágenes -->
  {% include 'carousel.html' %}
  <style>
    .company-container {
      margin: 2em 0;
      padding: 2em;
      background-color: #ffffff;
    }
    .company-container span.intro-text {
      display: flex;
      justify-content: center;
      text-align: center;
      flex-direction: column;
      font-size: 1.2em;
    
      font-weight: 500;
      padding: 0 10em;
    }
    span.red-border {
      display: block;
      width: 50%;
      height: 2px;
      background-color: #d81d26;
      margin: 1em auto 2em auto;
    }
    .proyects-container {
      display: flex;
      flex-direction: column;
      gap: 2em;
    
      padding: 2em;
    }
    .proyects-row {
      display: flex;
      flex-flow: row;
      justify-content: center;
      gap: 2em;
    }
    .proyects-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5em;
      text-align: center;
      font-weight: 500;
      font-size: 1.1em;
    }
    .proyects-item img {
      width: 300px;
      height: 300px;
      object-fit: cover;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease;
    }
    
    .proyects-item img:hover {
      transform: scale(1.05);
    }

    /* ========== RESPONSIVE DESIGN ========== */
    
    /* Tablet: 768px - 1024px */
    @media (max-width: 1024px) {
      .company-container span.intro-text {
        padding: 0 4em;
        font-size: 1.1em;
      }
      
      .proyects-row {
        gap: 1.5em;
      }
      
      .proyects-item img {
        width: 250px;
        height: 250px;
      }
    }
    
    /* Tablet pequeño: hasta 768px */
    @media (max-width: 768px) {
      .company-container {
        margin: 1.5em 0;
        padding: 1.5em;
      }
      
      .company-container span.intro-text {
        padding: 0 2em;
        font-size: 1.05em;
      }
      
      .proyects-container {
        padding: 1.5em;
      }
      
      .proyects-row {
        flex-direction: column;
        align-items: center;
        gap: 2em;
      }
      
      .proyects-item {
        width: 100%;
        max-width: 400px;
      }
      
      .proyects-item img {
        width: 280px;
        height: 280px;
      }
    }
    
    /* Mobile: hasta 600px */
    @media (max-width: 600px) {
      .company-container {
        margin: 1em 0;
        padding: 1em;
      }
      
      .company-container span.intro-text {
        padding: 0 1em;
        font-size: 1em;
        line-height: 1.6;
      }
      
      span.red-border {
        width: 60%;
        margin: 0.75em auto 1.5em auto;
      }
      
      .proyects-container {
        padding: 1em;
        gap: 1.5em;
      }
      
      .proyects-row {
        gap: 1.5em;
      }
      
      .proyects-item {
        font-size: 1em;
        max-width: 320px;
      }
      
      .proyects-item img {
        width: 240px;
        height: 240px;
      }
    }
    
    /* Mobile pequeño: hasta 480px */
    @media (max-width: 480px) {
      .company-container {
        padding: 0.75em;
      }
      
      .company-container span.intro-text {
        padding: 0 0.5em;
        font-size: 0.95em;
      }
      
      span.red-border {
        width: 70%;
      }
      
      .proyects-container {
        padding: 0.75em;
      }
      
      .proyects-row {
        gap: 1.25em;
      }
      
      .proyects-item {
        font-size: 0.95em;
        max-width: 100%;
      }
      
      .proyects-item img {
        width: 200px;
        height: 200px;
      }
    }
    
    /* Mobile extra pequeño: hasta 360px */
    @media (max-width: 360px) {
      .company-container span.intro-text {
        font-size: 0.9em;
        padding: 0 0.25em;
      }
      
      .proyects-item {
        font-size: 0.9em;
      }
      
      .proyects-item img {
        width: 180px;
        height: 180px;
      }
    }
  </style>

  <script>
    // JavaScript para el carrusel
    let currentSlideIndex = 0
    const slides = document.querySelectorAll('.carousel-slide')
    const indicators = document.querySelectorAll('.indicator')
    const totalSlides = slides.length
    
    function showSlide(n) {
      // Ocultar todas las slides
      slides.forEach((slide) => slide.classList.remove('active'))
      indicators.forEach((indicator) => indicator.classList.remove('active'))
    
      // Ajustar índice si está fuera de rango
      if (n >= totalSlides) currentSlideIndex = 0
      if (n < 0) currentSlideIndex = totalSlides - 1
    
      // Mostrar slide actual
      slides[currentSlideIndex].classList.add('active')
      indicators[currentSlideIndex].classList.add('active')
    }
    
    function moveSlide(direction) {
      currentSlideIndex += direction
      showSlide(currentSlideIndex)
    }
    
    function currentSlide(n) {
      currentSlideIndex = n - 1
      showSlide(currentSlideIndex)
    }
    
    // Auto-play del carrusel (opcional)
    function autoPlay() {
      moveSlide(1)
    }
    
    // Iniciar auto-play cada 5 segundos
    setInterval(autoPlay, 5000)
    
    // Pausar auto-play al hacer hover
    const carousel = document.querySelector('.carousel')
    let autoPlayInterval = setInterval(autoPlay, 5000)
    
    carousel.addEventListener('mouseenter', () => {
      clearInterval(autoPlayInterval)
    })
    
    carousel.addEventListener('mouseleave', () => {
      autoPlayInterval = setInterval(autoPlay, 5000)
    })
    
    // Soporte para navegación con teclado
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft') moveSlide(-1)
      if (e.key === 'ArrowRight') moveSlide(1)
    })
  </script>
{% endblock %}
